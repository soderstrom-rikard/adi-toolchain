Merged up to 22240, excluding the following revisions for now:

19342
19343
19344
19345
19346
19347
19386

These ones are excluded because they contain the uc_malloc work which IMO
is misguided and shouldn't be applied to our tree.


The following just work around an NPTL bug.  They should not be applied before
the NPTL merge is complete so that we can verify the bug is fixed.

20625
20628


The following tries to save a tiny amount of code by removing error checks,
which is probably a poor idea.
22074


The following uglifies the code to shut up warnings.
22174
